/*
 * robot_diff.c
 *
 * Code generation for model "robot_diff.mdl".
 *
 * Model version              : 1.170
 * Simulink Coder version : 8.1 (R2011b) 08-Jul-2011
 * C source code generated on : Thu May 12 12:37:54 2016
 *
 * Target selection: quarc_linux_verdex.tlc
 * Note: GRT includes extra infrastructure and instrumentation for prototyping
 * Embedded hardware selection: 32-bit Generic
 * Code generation objectives: Unspecified
 * Validation result: Not run
 */
#include "robot_diff.h"
#include "robot_diff_private.h"
#include "robot_diff_dt.h"

/* Block signals (auto storage) */
BlockIO_robot_diff robot_diff_B;

/* Block states (auto storage) */
D_Work_robot_diff robot_diff_DWork;

/* Real-time model */
RT_MODEL_robot_diff robot_diff_M_;
RT_MODEL_robot_diff *const robot_diff_M = &robot_diff_M_;

/*
 * Time delay interpolation routine
 *
 * The linear interpolation is performed using the formula:
 *
 *          (t2 - tMinusDelay)         (tMinusDelay - t1)
 * u(t)  =  ----------------- * u1  +  ------------------- * u2
 *              (t2 - t1)                  (t2 - t1)
 */
real_T rt_TDelayInterpolate(
  real_T tMinusDelay,                  /* tMinusDelay = currentSimTime - delay */
  real_T tStart,
  real_T *tBuf,
  real_T *uBuf,
  int_T bufSz,
  int_T *lastIdx,
  int_T oldestIdx,
  int_T newIdx,
  real_T initOutput,
  boolean_T discrete,
  boolean_T minorStepAndTAtLastMajorOutput)
{
  int_T i;
  real_T yout, t1, t2, u1, u2;

  /*
   * If tMinusDelay is less than zero, should output initial value
   */
  if (tMinusDelay <= tStart)
    return initOutput;

  /* For fixed buffer extrapolation:
   * if tMinusDelay is small than the time at oldestIdx, if discrete, output
   * tailptr value,  else use tailptr and tailptr+1 value to extrapolate
   * It is also for fixed buffer. Note: The same condition can happen for transport delay block where
   * use tStart and and t[tail] other than using t[tail] and t[tail+1].
   * See below
   */
  if ((tMinusDelay <= tBuf[oldestIdx] ) ) {
    if (discrete) {
      return(uBuf[oldestIdx]);
    } else {
      int_T tempIdx= oldestIdx + 1;
      if (oldestIdx == bufSz-1)
        tempIdx = 0;
      t1= tBuf[oldestIdx];
      t2= tBuf[tempIdx];
      u1= uBuf[oldestIdx];
      u2= uBuf[tempIdx];
      if (t2 == t1) {
        if (tMinusDelay >= t2) {
          yout = u2;
        } else {
          yout = u1;
        }
      } else {
        real_T f1 = (t2-tMinusDelay) / (t2-t1);
        real_T f2 = 1.0 - f1;

        /*
         * Use Lagrange's interpolation formula.  Exact outputs at t1, t2.
         */
        yout = f1*u1 + f2*u2;
      }

      return yout;
    }
  }

  /*
   * When block does not have direct feedthrough, we use the table of
   * values to extrapolate off the end of the table for delays that are less
   * than 0 (less then step size).  This is not completely accurate.  The
   * chain of events is as follows for a given time t.  Major output - look
   * in table.  Update - add entry to table.  Now, if we call the output at
   * time t again, there is a new entry in the table. For very small delays,
   * this means that we will have a different answer from the previous call
   * to the output fcn at the same time t.  The following code prevents this
   * from happening.
   */
  if (minorStepAndTAtLastMajorOutput) {
    /* pretend that the new entry has not been added to table */
    if (newIdx != 0) {
      if (*lastIdx == newIdx) {
        (*lastIdx)--;
      }

      newIdx--;
    } else {
      if (*lastIdx == newIdx) {
        *lastIdx = bufSz-1;
      }

      newIdx = bufSz - 1;
    }
  }

  i = *lastIdx;
  if (tBuf[i] < tMinusDelay) {
    /* Look forward starting at last index */
    while (tBuf[i] < tMinusDelay) {
      /* May occur if the delay is less than step-size - extrapolate */
      if (i == newIdx)
        break;
      i = ( i < (bufSz-1) ) ? (i+1) : 0;/* move through buffer */
    }
  } else {
    /*
     * Look backwards starting at last index which can happen when the
     * delay time increases.
     */
    while (tBuf[i] >= tMinusDelay) {
      /*
       * Due to the entry condition at top of function, we
       * should never hit the end.
       */
      i = (i > 0) ? i-1 : (bufSz-1);   /* move through buffer */
    }

    i = ( i < (bufSz-1) ) ? (i+1) : 0;
  }

  *lastIdx = i;
  if (discrete) {
    /*
     * tempEps = 128 * eps;
     * localEps = max(tempEps, tempEps*fabs(tBuf[i]))/2;
     */
    double tempEps = (DBL_EPSILON) * 128.0;
    double localEps = tempEps * fabs(tBuf[i]);
    if (tempEps > localEps) {
      localEps = tempEps;
    }

    localEps = localEps / 2.0;
    if (tMinusDelay >= (tBuf[i] - localEps)) {
      yout = uBuf[i];
    } else {
      if (i == 0) {
        yout = uBuf[bufSz-1];
      } else {
        yout = uBuf[i-1];
      }
    }
  } else {
    if (i == 0) {
      t1 = tBuf[bufSz-1];
      u1 = uBuf[bufSz-1];
    } else {
      t1 = tBuf[i-1];
      u1 = uBuf[i-1];
    }

    t2 = tBuf[i];
    u2 = uBuf[i];
    if (t2 == t1) {
      if (tMinusDelay >= t2) {
        yout = u2;
      } else {
        yout = u1;
      }
    } else {
      real_T f1 = (t2-tMinusDelay) / (t2-t1);
      real_T f2 = 1.0 - f1;

      /*
       * Use Lagrange's interpolation formula.  Exact outputs at t1, t2.
       */
      yout = f1*u1 + f2*u2;
    }
  }

  return(yout);
}

real_T rt_powd_snf(real_T u0, real_T u1)
{
  real_T y;
  real_T tmp;
  real_T tmp_0;
  if (rtIsNaN(u0) || rtIsNaN(u1)) {
    y = (rtNaN);
  } else {
    tmp = fabs(u0);
    tmp_0 = fabs(u1);
    if (rtIsInf(u1)) {
      if (tmp == 1.0) {
        y = (rtNaN);
      } else if (tmp > 1.0) {
        if (u1 > 0.0) {
          y = (rtInf);
        } else {
          y = 0.0;
        }
      } else if (u1 > 0.0) {
        y = 0.0;
      } else {
        y = (rtInf);
      }
    } else if (tmp_0 == 0.0) {
      y = 1.0;
    } else if (tmp_0 == 1.0) {
      if (u1 > 0.0) {
        y = u0;
      } else {
        y = 1.0 / u0;
      }
    } else if (u1 == 2.0) {
      y = u0 * u0;
    } else if ((u1 == 0.5) && (u0 >= 0.0)) {
      y = sqrt(u0);
    } else if ((u0 < 0.0) && (u1 > floor(u1))) {
      y = (rtNaN);
    } else {
      y = pow(u0, u1);
    }
  }

  return y;
}

/* Model output function */
void robot_diff_output(int_T tid)
{
  /* local block i/o variables */
  real_T rtb_TransportDelay2;
  real_T rtb_TransportDelay1;
  real_T rtb_TransportDelay;
  real_T rtb_HILReadWrite_o1[5];
  real_T rtb_HILReadWrite_o2[7];
  t_roomba rtb_RoombaDirectDrive_o1;
  t_roomba rtb_RoombaQueryList_o1;
  int32_T rtb_RoombaQueryList_o3;
  int32_T rtb_RoombaQueryList_o2[5];
  real_T K_new;
  real_T error[2];
  real_T vr;
  real_T v_max;
  real_T d_estado[3];
  boolean_T x[5];
  int32_T b_k;
  static const real_T c[5] = { 135.931074586891, -1131.18106050753,
    3464.28806284511, -4823.87750852904, 2935.52549616993 };

  int32_T i;
  real_T tmp[6];
  int32_T b_data[5];
  int32_T b_sizes;
  boolean_T x_0;
  real_T u;

  /* MATLAB Function: '<Root>/Get_target' incorporates:
   *  DataStoreRead: '<Root>/Data Store Read'
   */
  robot_diff_DWork.sfEvent_a = CALL_EVENT;

  /* MATLAB Function 'Get_target': '<S2>:1' */
  /* camino = [3832.64000000000,470.454545454545;3816.40000000000,504.058441558442;3800.16000000000,537.662337662338;3800.16000000000,537.662337662338;3783.92000000000,571.266233766234;3767.68000000000,604.870129870130;3767.68000000000,604.870129870130;3751.44000000000,638.474025974026;3735.20000000000,672.077922077922;3735.20000000000,672.077922077922;3718.96000000000,705.681818181818;3702.72000000000,739.285714285714;3702.72000000000,739.285714285714;3686.48000000000,772.889610389610;3670.24000000000,806.493506493507;3670.24000000000,806.493506493507;3654,840.097402597403;3637.76000000000,873.701298701299;3637.76000000000,873.701298701299;3621.52000000000,907.305194805195;3605.28000000000,940.909090909091;3605.28000000000,940.909090909091;3589.04000000000,974.512987012987;3572.80000000000,1008.11688311688;3572.80000000000,1008.11688311688;3556.56000000000,1041.72077922078;3540.32000000000,1075.32467532468;3540.32000000000,1075.32467532468;3524.08000000000,1108.92857142857;3507.84000000000,1142.53246753247;3507.84000000000,1142.53246753247;3491.60000000000,1176.13636363636;3475.36000000000,1209.74025974026;3475.36000000000,1209.74025974026;3459.12000000000,1243.34415584416;3442.88000000000,1276.94805194805;3442.88000000000,1276.94805194805;3426.64000000000,1310.55194805195;3410.40000000000,1344.15584415584;3410.40000000000,1344.15584415584;3394.16000000000,1377.75974025974;3377.92000000000,1411.36363636364;3377.92000000000,1411.36363636364;3361.68000000000,1444.96753246753;3345.44000000000,1478.57142857143;3345.44000000000,1478.57142857143;3329.20000000000,1512.17532467532;3312.96000000000,1545.77922077922;3312.96000000000,1545.77922077922;3296.72000000000,1579.38311688312;3280.48000000000,1612.98701298701;3280.48000000000,1612.98701298701;3264.24000000000,1646.59090909091;3248,1680.19480519481;3248,1680.19480519481;3231.76000000000,1713.79870129870;3215.52000000000,1747.40259740260;3215.52000000000,1747.40259740260;3199.28000000000,1781.00649350649;3183.04000000000,1814.61038961039;3183.04000000000,1814.61038961039;3166.80000000000,1848.21428571429;3150.56000000000,1881.81818181818;3150.56000000000,1881.81818181818;3134.32000000000,1915.42207792208;3118.08000000000,1949.02597402597;3118.08000000000,1949.02597402597;3101.84000000000,1982.62987012987;3085.60000000000,2016.23376623377;3085.60000000000,2016.23376623377;3069.36000000000,2049.83766233766;3053.12000000000,2083.44155844156;3053.12000000000,2083.44155844156;3036.88000000000,2117.04545454545;3020.64000000000,2150.64935064935;3020.64000000000,2150.64935064935;3004.40000000000,2184.25324675325;2988.16000000000,2217.85714285714;2988.16000000000,2217.85714285714;2971.92000000000,2251.46103896104;2955.68000000000,2285.06493506494;2955.68000000000,2285.06493506494;2939.44000000000,2318.66883116883;2923.20000000000,2352.27272727273;2923.20000000000,2352.27272727273;2906.96000000000,2385.87662337662;2890.72000000000,2419.48051948052;2890.72000000000,2419.48051948052;2874.48000000000,2453.08441558442;2858.24000000000,2486.68831168831;2858.24000000000,2486.68831168831;2842,2520.29220779221;2825.76000000000,2553.89610389610;2825.76000000000,2553.89610389610;2809.52000000000,2587.50000000000;2793.28000000000,2621.10389610390;2793.28000000000,2621.10389610390;2777.04000000000,2621.10389610390;2760.80000000000,2621.10389610390;2760.80000000000,2621.10389610390;2744.56000000000,2621.10389610390;2728.32000000000,2621.10389610390;2728.32000000000,2621.10389610390;2712.08000000000,2621.10389610390;2695.84000000000,2621.10389610390;2695.84000000000,2621.10389610390;2679.60000000000,2621.10389610390;2663.36000000000,2621.10389610390;2663.36000000000,2621.10389610390;2647.12000000000,2621.10389610390;2630.88000000000,2621.10389610390;2630.88000000000,2621.10389610390;2614.64000000000,2621.10389610390;2598.40000000000,2621.10389610390;2598.40000000000,2621.10389610390;2582.16000000000,2621.10389610390;2565.92000000000,2621.10389610390;2565.92000000000,2621.10389610390;2549.68000000000,2621.10389610390;2533.44000000000,2621.10389610390;2533.44000000000,2621.10389610390;2517.20000000000,2621.10389610390;2500.96000000000,2621.10389610390;2500.96000000000,2621.10389610390;2484.72000000000,2621.10389610390;2468.48000000000,2621.10389610390;2468.48000000000,2621.10389610390;2452.24000000000,2621.10389610390;2436,2621.10389610390;2436,2621.10389610390;2419.76000000000,2621.10389610390;2403.52000000000,2621.10389610390;2403.52000000000,2621.10389610390;2387.28000000000,2621.10389610390;2371.04000000000,2621.10389610390;2371.04000000000,2621.10389610390;2354.80000000000,2621.10389610390;2338.56000000000,2621.10389610390;2338.56000000000,2621.10389610390;2322.32000000000,2621.10389610390;2306.08000000000,2621.10389610390;2306.08000000000,2621.10389610390;2289.84000000000,2621.10389610390;2273.60000000000,2621.10389610390;2273.60000000000,2621.10389610390;2257.36000000000,2621.10389610390;2241.12000000000,2621.10389610390;2241.12000000000,2621.10389610390;2224.88000000000,2621.10389610390;2208.64000000000,2621.10389610390;2208.64000000000,2621.10389610390;2192.40000000000,2621.10389610390;2176.16000000000,2621.10389610390;2176.16000000000,2621.10389610390;2159.92000000000,2621.10389610390;2143.68000000000,2621.10389610390;2143.68000000000,2621.10389610390;2127.44000000000,2621.10389610390;2111.20000000000,2621.10389610390;2111.20000000000,2621.10389610390;2094.96000000000,2621.10389610390;2078.72000000000,2621.10389610390;2078.72000000000,2621.10389610390;2062.48000000000,2621.10389610390;2046.24000000000,2621.10389610390;2046.24000000000,2621.10389610390;2030,2621.10389610390;2013.76000000000,2621.10389610390;2013.76000000000,2621.10389610390;1997.52000000000,2621.10389610390;1981.28000000000,2621.10389610390;1981.28000000000,2621.10389610390;1965.04000000000,2621.10389610390;1948.80000000000,2621.10389610390;1948.80000000000,2621.10389610390;1932.56000000000,2621.10389610390;1916.32000000000,2621.10389610390;1916.32000000000,2621.10389610390;1900.08000000000,2621.10389610390;1883.84000000000,2621.10389610390;1883.84000000000,2621.10389610390;1867.60000000000,2621.10389610390;1851.36000000000,2621.10389610390;1851.36000000000,2621.10389610390;1835.12000000000,2621.10389610390;1818.88000000000,2621.10389610390;1818.88000000000,2621.10389610390;1802.64000000000,2621.10389610390;1786.40000000000,2621.10389610390;1786.40000000000,2621.10389610390;1770.16000000000,2621.10389610390;1753.92000000000,2621.10389610390;1753.92000000000,2621.10389610390;1737.68000000000,2621.10389610390;1721.44000000000,2621.10389610390;1721.44000000000,2621.10389610390;1705.20000000000,2621.10389610390;1688.96000000000,2621.10389610390;1688.96000000000,2621.10389610390;1672.72000000000,2621.10389610390;1656.48000000000,2621.10389610390;1656.48000000000,2621.10389610390;1640.24000000000,2621.10389610390;1624,2621.10389610390;1624,2621.10389610390;1607.76000000000,2621.10389610390;1591.52000000000,2621.10389610390;1591.52000000000,2621.10389610390;1575.28000000000,2621.10389610390;1559.04000000000,2621.10389610390;1559.04000000000,2621.10389610390;1542.80000000000,2621.10389610390;1526.56000000000,2621.10389610390;1526.56000000000,2621.10389610390;1510.32000000000,2621.10389610390;1494.08000000000,2621.10389610390;1494.08000000000,2621.10389610390;1477.84000000000,2621.10389610390;1461.60000000000,2621.10389610390;1461.60000000000,2621.10389610390;1445.36000000000,2621.10389610390;1429.12000000000,2621.10389610390;1429.12000000000,2621.10389610390;1412.88000000000,2621.10389610390;1396.64000000000,2621.10389610390;1396.64000000000,2621.10389610390;1380.40000000000,2621.10389610390;1364.16000000000,2621.10389610390;1364.16000000000,2621.10389610390;1347.92000000000,2621.10389610390;1331.68000000000,2621.10389610390;1331.68000000000,2621.10389610390;1315.44000000000,2621.10389610390;1299.20000000000,2621.10389610390;1299.20000000000,2621.10389610390;1282.96000000000,2621.10389610390;1266.72000000000,2621.10389610390;1266.72000000000,2621.10389610390;1250.48000000000,2621.10389610390;1234.24000000000,2621.10389610390;1234.24000000000,2621.10389610390;1218,2654.70779220779;1201.76000000000,2688.31168831169;1201.76000000000,2688.31168831169;1185.52000000000,2721.91558441558;1169.28000000000,2755.51948051948;1169.28000000000,2755.51948051948;1153.04000000000,2789.12337662338;1136.80000000000,2822.72727272727;1136.80000000000,2822.72727272727;1120.56000000000,2856.33116883117;1104.32000000000,2889.93506493507;1104.32000000000,2889.93506493507;1088.08000000000,2923.53896103896;1071.84000000000,2957.14285714286;1071.84000000000,2957.14285714286;1055.60000000000,2990.74675324675;1039.36000000000,3024.35064935065;1039.36000000000,3024.35064935065;1023.12000000000,3057.95454545455;1006.88000000000,3091.55844155844;1006.88000000000,3091.55844155844;990.640000000000,3125.16233766234;974.400000000000,3158.76623376623;974.400000000000,3158.76623376623;958.160000000000,3192.37012987013;941.920000000000,3225.97402597403;941.920000000000,3225.97402597403;925.680000000000,3259.57792207792;909.440000000000,3293.18181818182;909.440000000000,3293.18181818182;893.200000000000,3326.78571428571;876.960000000000,3360.38961038961;876.960000000000,3360.38961038961;860.720000000000,3393.99350649351;844.480000000000,3427.59740259740;844.480000000000,3427.59740259740;828.240000000000,3461.20129870130;812,3494.80519480520;812,3494.80519480520;795.760000000000,3528.40909090909;779.520000000000,3562.01298701299;779.520000000000,3562.01298701299;763.280000000000,3595.61688311688;747.040000000000,3629.22077922078;747.040000000000,3629.22077922078;730.800000000000,3662.82467532468;714.560000000000,3696.42857142857;714.560000000000,3696.42857142857;698.320000000000,3730.03246753247;682.080000000000,3763.63636363636;682.080000000000,3763.63636363636;665.840000000000,3797.24025974026;649.600000000000,3830.84415584416;649.600000000000,3830.84415584416;633.360000000000,3864.44805194805;617.120000000000,3898.05194805195;617.120000000000,3898.05194805195;600.880000000000,3931.65584415584;584.640000000000,3965.25974025974;584.640000000000,3965.25974025974;568.400000000000,3998.86363636364;552.160000000000,4032.46753246753;552.160000000000,4032.46753246753;535.920000000000,4066.07142857143;519.680000000000,4099.67532467533;519.680000000000,4099.67532467533;503.440000000000,4133.27922077922;487.200000000000,4166.88311688312;487.200000000000,4166.88311688312;470.960000000000,4200.48701298701;454.720000000000,4234.09090909091;454.720000000000,4234.09090909091;438.480000000000,4267.69480519481;422.240000000000,4301.29870129870;422.240000000000,4301.29870129870;406,4334.90259740260;389.760000000000,4368.50649350649;389.760000000000,4368.50649350649;373.520000000000,4402.11038961039;357.280000000000,4435.71428571429;357.280000000000,4435.71428571429;341.040000000000,4469.31818181818;324.800000000000,4502.92207792208;324.800000000000,4502.92207792208;308.560000000000,4536.52597402597;292.320000000000,4570.12987012987;292.320000000000,4570.12987012987;276.080000000000,4603.73376623377;259.840000000000,4637.33766233766;259.840000000000,4637.33766233766;243.600000000000,4670.94155844156;227.360000000000,4704.54545454546;227.360000000000,4704.54545454546;211.120000000000,4738.14935064935;194.880000000000,4771.75324675325;194.880000000000,4771.75324675325;178.640000000000,4771.75324675325;162.400000000000,4771.75324675325]; */
  /* '<S2>:1:4' */
  /* camino = [3832.64000000000,470.454545454545;3824.52000000000,487.256493506494;3816.40000000000,504.058441558442;3808.28000000000,520.860389610390;3800.16000000000,537.662337662338;3800.16000000000,537.662337662338;3792.04000000000,554.464285714286;3783.92000000000,571.266233766234;3775.80000000000,588.068181818182;3767.68000000000,604.870129870130;3767.68000000000,604.870129870130;3759.56000000000,621.672077922078;3751.44000000000,638.474025974026;3743.32000000000,655.275974025974;3735.20000000000,672.077922077922;3735.20000000000,672.077922077922;3727.08000000000,688.879870129870;3718.96000000000,705.681818181818;3710.84000000000,722.483766233766;3702.72000000000,739.285714285714;3702.72000000000,739.285714285714;3694.60000000000,756.087662337662;3686.48000000000,772.889610389610;3678.36000000000,789.691558441559;3670.24000000000,806.493506493507;3670.24000000000,806.493506493507;3662.12000000000,823.295454545455;3654,840.097402597403;3645.88000000000,856.899350649351;3637.76000000000,873.701298701299;3637.76000000000,873.701298701299;3629.64000000000,890.503246753247;3621.52000000000,907.305194805195;3613.40000000000,924.107142857143;3605.28000000000,940.909090909091;3605.28000000000,940.909090909091;3597.16000000000,957.711038961039;3589.04000000000,974.512987012987;3580.92000000000,991.314935064935;3572.80000000000,1008.11688311688;3572.80000000000,1008.11688311688;3564.68000000000,1024.91883116883;3556.56000000000,1041.72077922078;3548.44000000000,1058.52272727273;3540.32000000000,1075.32467532468;3540.32000000000,1075.32467532468;3532.20000000000,1092.12662337662;3524.08000000000,1108.92857142857;3515.96000000000,1125.73051948052;3507.84000000000,1142.53246753247;3507.84000000000,1142.53246753247;3499.72000000000,1159.33441558442;3491.60000000000,1176.13636363636;3483.48000000000,1192.93831168831;3475.36000000000,1209.74025974026;3475.36000000000,1209.74025974026;3467.24000000000,1226.54220779221;3459.12000000000,1243.34415584416;3451,1260.14610389610;3442.88000000000,1276.94805194805;3442.88000000000,1276.94805194805;3434.76000000000,1293.75000000000;3426.64000000000,1310.55194805195;3418.52000000000,1327.35389610390;3410.40000000000,1344.15584415584;3410.40000000000,1344.15584415584;3402.28000000000,1360.95779220779;3394.16000000000,1377.75974025974;3386.04000000000,1394.56168831169;3377.92000000000,1411.36363636364;3377.92000000000,1411.36363636364;3369.80000000000,1428.16558441558;3361.68000000000,1444.96753246753;3353.56000000000,1461.76948051948;3345.44000000000,1478.57142857143;3345.44000000000,1478.57142857143;3337.32000000000,1495.37337662338;3329.20000000000,1512.17532467532;3321.08000000000,1528.97727272727;3312.96000000000,1545.77922077922;3312.96000000000,1545.77922077922;3304.84000000000,1562.58116883117;3296.72000000000,1579.38311688312;3288.60000000000,1596.18506493507;3280.48000000000,1612.98701298701;3280.48000000000,1612.98701298701;3272.36000000000,1629.78896103896;3264.24000000000,1646.59090909091;3256.12000000000,1663.39285714286;3248,1680.19480519481;3248,1680.19480519481;3239.88000000000,1696.99675324675;3231.76000000000,1713.79870129870;3223.64000000000,1730.60064935065;3215.52000000000,1747.40259740260;3215.52000000000,1747.40259740260;3207.40000000000,1764.20454545455;3199.28000000000,1781.00649350649;3191.16000000000,1797.80844155844;3183.04000000000,1814.61038961039;3183.04000000000,1814.61038961039;3174.92000000000,1831.41233766234;3166.80000000000,1848.21428571429;3158.68000000000,1865.01623376623;3150.56000000000,1881.81818181818;3150.56000000000,1881.81818181818;3142.44000000000,1898.62012987013;3134.32000000000,1915.42207792208;3126.20000000000,1932.22402597403;3118.08000000000,1949.02597402597;3118.08000000000,1949.02597402597;3109.96000000000,1965.82792207792;3101.84000000000,1982.62987012987;3093.72000000000,1999.43181818182;3085.60000000000,2016.23376623377;3085.60000000000,2016.23376623377;3077.48000000000,2033.03571428571;3069.36000000000,2049.83766233766;3061.24000000000,2066.63961038961;3053.12000000000,2083.44155844156;3053.12000000000,2083.44155844156;3045,2100.24350649351;3036.88000000000,2117.04545454545;3028.76000000000,2133.84740259740;3020.64000000000,2150.64935064935;3020.64000000000,2150.64935064935;3012.52000000000,2167.45129870130;3004.40000000000,2184.25324675325;2996.28000000000,2201.05519480520;2988.16000000000,2217.85714285714;2988.16000000000,2217.85714285714;2980.04000000000,2234.65909090909;2971.92000000000,2251.46103896104;2963.80000000000,2268.26298701299;2955.68000000000,2285.06493506494;2955.68000000000,2285.06493506494;2947.56000000000,2301.86688311688;2939.44000000000,2318.66883116883;2931.32000000000,2335.47077922078;2923.20000000000,2352.27272727273;2923.20000000000,2352.27272727273;2915.08000000000,2369.07467532468;2906.96000000000,2385.87662337662;2898.84000000000,2402.67857142857;2890.72000000000,2419.48051948052;2890.72000000000,2419.48051948052;2882.60000000000,2436.28246753247;2874.48000000000,2453.08441558442;2866.36000000000,2469.88636363636;2858.24000000000,2486.68831168831;2858.24000000000,2486.68831168831;2850.12000000000,2503.49025974026;2842,2520.29220779221;2833.88000000000,2537.09415584416;2825.76000000000,2553.89610389610;2825.76000000000,2553.89610389610;2817.64000000000,2553.89610389610;2809.52000000000,2553.89610389610;2801.40000000000,2553.89610389610;2793.28000000000,2553.89610389610;2793.28000000000,2553.89610389610;2785.16000000000,2553.89610389610;2777.04000000000,2553.89610389610;2768.92000000000,2553.89610389610;2760.80000000000,2553.89610389610;2760.80000000000,2553.89610389610;2752.68000000000,2553.89610389610;2744.56000000000,2553.89610389610;2736.44000000000,2553.89610389610;2728.32000000000,2553.89610389610;2728.32000000000,2553.89610389610;2720.20000000000,2553.89610389610;2712.08000000000,2553.89610389610;2703.96000000000,2553.89610389610;2695.84000000000,2553.89610389610;2695.84000000000,2553.89610389610;2687.72000000000,2553.89610389610;2679.60000000000,2553.89610389610;2671.48000000000,2553.89610389610;2663.36000000000,2553.89610389610;2663.36000000000,2553.89610389610;2655.24000000000,2553.89610389610;2647.12000000000,2553.89610389610;2639,2553.89610389610;2630.88000000000,2553.89610389610;2630.88000000000,2553.89610389610;2622.76000000000,2553.89610389610;2614.64000000000,2553.89610389610;2606.52000000000,2553.89610389610;2598.40000000000,2553.89610389610;2598.40000000000,2553.89610389610;2590.28000000000,2553.89610389610;2582.16000000000,2553.89610389610;2574.04000000000,2553.89610389610;2565.92000000000,2553.89610389610;2565.92000000000,2553.89610389610;2557.80000000000,2553.89610389610;2549.68000000000,2553.89610389610;2541.56000000000,2553.89610389610;2533.44000000000,2553.89610389610;2533.44000000000,2553.89610389610;2525.32000000000,2553.89610389610;2517.20000000000,2553.89610389610;2509.08000000000,2553.89610389610;2500.96000000000,2553.89610389610;2500.96000000000,2553.89610389610;2492.84000000000,2553.89610389610;2484.72000000000,2553.89610389610;2476.60000000000,2553.89610389610;2468.48000000000,2553.89610389610;2468.48000000000,2553.89610389610;2460.36000000000,2553.89610389610;2452.24000000000,2553.89610389610;2444.12000000000,2553.89610389610;2436,2553.89610389610;2436,2553.89610389610;2427.88000000000,2553.89610389610;2419.76000000000,2553.89610389610;2411.64000000000,2553.89610389610;2403.52000000000,2553.89610389610;2403.52000000000,2553.89610389610;2395.40000000000,2553.89610389610;2387.28000000000,2553.89610389610;2379.16000000000,2553.89610389610;2371.04000000000,2553.89610389610;2371.04000000000,2553.89610389610;2362.92000000000,2553.89610389610;2354.80000000000,2553.89610389610;2346.68000000000,2553.89610389610;2338.56000000000,2553.89610389610;2338.56000000000,2553.89610389610;2330.44000000000,2553.89610389610;2322.32000000000,2553.89610389610;2314.20000000000,2553.89610389610;2306.08000000000,2553.89610389610;2306.08000000000,2553.89610389610;2297.96000000000,2553.89610389610;2289.84000000000,2553.89610389610;2281.72000000000,2553.89610389610;2273.60000000000,2553.89610389610;2273.60000000000,2553.89610389610;2265.48000000000,2553.89610389610;2257.36000000000,2553.89610389610;2249.24000000000,2553.89610389610;2241.12000000000,2553.89610389610;2241.12000000000,2553.89610389610;2233,2553.89610389610;2224.88000000000,2553.89610389610;2216.76000000000,2553.89610389610;2208.64000000000,2553.89610389610;2208.64000000000,2553.89610389610;2200.52000000000,2553.89610389610;2192.40000000000,2553.89610389610;2184.28000000000,2553.89610389610;2176.16000000000,2553.89610389610;2176.16000000000,2553.89610389610;2168.04000000000,2553.89610389610;2159.92000000000,2553.89610389610;2151.80000000000,2553.89610389610;2143.68000000000,2553.89610389610;2143.68000000000,2553.89610389610;2135.56000000000,2553.89610389610;2127.44000000000,2553.89610389610;2119.32000000000,2553.89610389610;2111.20000000000,2553.89610389610;2111.20000000000,2553.89610389610;2103.08000000000,2553.89610389610;2094.96000000000,2553.89610389610;2086.84000000000,2553.89610389610;2078.72000000000,2553.89610389610;2078.72000000000,2553.89610389610;2070.60000000000,2553.89610389610;2062.48000000000,2553.89610389610;2054.36000000000,2553.89610389610;2046.24000000000,2553.89610389610;2046.24000000000,2553.89610389610;2038.12000000000,2553.89610389610;2030,2553.89610389610;2021.88000000000,2553.89610389610;2013.76000000000,2553.89610389610;2013.76000000000,2553.89610389610;2005.64000000000,2553.89610389610;1997.52000000000,2553.89610389610;1989.40000000000,2553.89610389610;1981.28000000000,2553.89610389610;1981.28000000000,2553.89610389610;1973.16000000000,2553.89610389610;1965.04000000000,2553.89610389610;1956.92000000000,2553.89610389610;1948.80000000000,2553.89610389610;1948.80000000000,2553.89610389610;1940.68000000000,2553.89610389610;1932.56000000000,2553.89610389610;1924.44000000000,2553.89610389610;1916.32000000000,2553.89610389610;1916.32000000000,2553.89610389610;1908.20000000000,2553.89610389610;1900.08000000000,2553.89610389610;1891.96000000000,2553.89610389610;1883.84000000000,2553.89610389610;1883.84000000000,2553.89610389610;1875.72000000000,2553.89610389610;1867.60000000000,2553.89610389610;1859.48000000000,2553.89610389610;1851.36000000000,2553.89610389610;1851.36000000000,2553.89610389610;1843.24000000000,2553.89610389610;1835.12000000000,2553.89610389610;1827,2553.89610389610;1818.88000000000,2553.89610389610;1818.88000000000,2553.89610389610;1810.76000000000,2553.89610389610;1802.64000000000,2553.89610389610;1794.52000000000,2553.89610389610;1786.40000000000,2553.89610389610;1786.40000000000,2553.89610389610;1778.28000000000,2553.89610389610;1770.16000000000,2553.89610389610;1762.04000000000,2553.89610389610;1753.92000000000,2553.89610389610;1753.92000000000,2553.89610389610;1745.80000000000,2553.89610389610;1737.68000000000,2553.89610389610;1729.56000000000,2553.89610389610;1721.44000000000,2553.89610389610;1721.44000000000,2553.89610389610;1713.32000000000,2553.89610389610;1705.20000000000,2553.89610389610;1697.08000000000,2553.89610389610;1688.96000000000,2553.89610389610;1688.96000000000,2553.89610389610;1680.84000000000,2553.89610389610;1672.72000000000,2553.89610389610;1664.60000000000,2553.89610389610;1656.48000000000,2553.89610389610;1656.48000000000,2553.89610389610;1648.36000000000,2553.89610389610;1640.24000000000,2553.89610389610;1632.12000000000,2553.89610389610;1624,2553.89610389610;1624,2553.89610389610;1615.88000000000,2553.89610389610;1607.76000000000,2553.89610389610;1599.64000000000,2553.89610389610;1591.52000000000,2553.89610389610;1591.52000000000,2553.89610389610;1583.40000000000,2553.89610389610;1575.28000000000,2553.89610389610;1567.16000000000,2553.89610389610;1559.04000000000,2553.89610389610;1559.04000000000,2553.89610389610;1550.92000000000,2553.89610389610;1542.80000000000,2553.89610389610;1534.68000000000,2553.89610389610;1526.56000000000,2553.89610389610;1526.56000000000,2553.89610389610;1518.44000000000,2553.89610389610;1510.32000000000,2553.89610389610;1502.20000000000,2553.89610389610;1494.08000000000,2553.89610389610;1494.08000000000,2553.89610389610;1485.96000000000,2553.89610389610;1477.84000000000,2553.89610389610;1469.72000000000,2553.89610389610;1461.60000000000,2553.89610389610;1461.60000000000,2553.89610389610;1453.48000000000,2553.89610389610;1445.36000000000,2553.89610389610;1437.24000000000,2553.89610389610;1429.12000000000,2553.89610389610;1429.12000000000,2553.89610389610;1421,2553.89610389610;1412.88000000000,2553.89610389610;1404.76000000000,2553.89610389610;1396.64000000000,2553.89610389610;1396.64000000000,2553.89610389610;1388.52000000000,2553.89610389610;1380.40000000000,2553.89610389610;1372.28000000000,2553.89610389610;1364.16000000000,2553.89610389610;1364.16000000000,2553.89610389610;1356.04000000000,2553.89610389610;1347.92000000000,2553.89610389610;1339.80000000000,2553.89610389610;1331.68000000000,2553.89610389610;1331.68000000000,2553.89610389610;1323.56000000000,2553.89610389610;1315.44000000000,2553.89610389610;1307.32000000000,2553.89610389610;1299.20000000000,2553.89610389610;1299.20000000000,2553.89610389610;1291.08000000000,2553.89610389610;1282.96000000000,2553.89610389610;1274.84000000000,2553.89610389610;1266.72000000000,2553.89610389610;1266.72000000000,2553.89610389610;1258.60000000000,2553.89610389610;1250.48000000000,2553.89610389610;1242.36000000000,2553.89610389610;1234.24000000000,2553.89610389610;1234.24000000000,2553.89610389610;1226.12000000000,2537.09415584416;1218,2520.29220779221;1209.88000000000,2503.49025974026;1201.76000000000,2486.68831168831;1201.76000000000,2486.68831168831;1193.64000000000,2469.88636363636;1185.52000000000,2453.08441558442;1177.40000000000,2436.28246753247;1169.28000000000,2419.48051948052;1169.28000000000,2419.48051948052;1161.16000000000,2402.67857142857;1153.04000000000,2385.87662337662;1144.92000000000,2369.07467532468;1136.80000000000,2352.27272727273;1136.80000000000,2352.27272727273;1128.68000000000,2335.47077922078;1120.56000000000,2318.66883116883;1112.44000000000,2301.86688311688;1104.32000000000,2285.06493506494;1104.32000000000,2285.06493506494;1096.20000000000,2268.26298701299;1088.08000000000,2251.46103896104;1079.96000000000,2234.65909090909;1071.84000000000,2217.85714285714;1071.84000000000,2217.85714285714;1063.72000000000,2201.05519480520;1055.60000000000,2184.25324675325;1047.48000000000,2167.45129870130;1039.36000000000,2150.64935064935;1039.36000000000,2150.64935064935;1031.24000000000,2133.84740259740;1023.12000000000,2117.04545454545;1015,2100.24350649351;1006.88000000000,2083.44155844156;1006.88000000000,2083.44155844156;998.760000000000,2066.63961038961;990.640000000000,2049.83766233766;982.520000000000,2033.03571428571;974.400000000000,2016.23376623377;974.400000000000,2016.23376623377;966.280000000000,1999.43181818182;958.160000000000,1982.62987012987;950.040000000000,1965.82792207792;941.920000000000,1949.02597402597;941.920000000000,1949.02597402597;933.800000000000,1932.22402597403;925.680000000000,1915.42207792208;917.560000000000,1898.62012987013;909.440000000000,1881.81818181818;909.440000000000,1881.81818181818;901.320000000000,1865.01623376623;893.200000000000,1848.21428571429;885.080000000000,1831.41233766234;876.960000000000,1814.61038961039;876.960000000000,1814.61038961039;868.840000000000,1797.80844155844;860.720000000000,1781.00649350649;852.600000000000,1764.20454545455;844.480000000000,1747.40259740260;844.480000000000,1747.40259740260;836.360000000000,1730.60064935065;828.240000000000,1713.79870129870;820.120000000000,1696.99675324675;812,1680.19480519481;812,1680.19480519481;803.880000000000,1663.39285714286;795.760000000000,1646.59090909091;787.640000000000,1629.78896103896;779.520000000000,1612.98701298701;779.520000000000,1612.98701298701;771.400000000000,1596.18506493507;763.280000000000,1579.38311688312;755.160000000000,1562.58116883117;747.040000000000,1545.77922077922;747.040000000000,1545.77922077922;738.920000000000,1528.97727272727;730.800000000000,1512.17532467532;722.680000000000,1495.37337662338;714.560000000000,1478.57142857143;714.560000000000,1478.57142857143;706.440000000000,1461.76948051948;698.320000000000,1444.96753246753;690.200000000000,1428.16558441558;682.080000000000,1411.36363636364;682.080000000000,1411.36363636364;673.960000000000,1394.56168831169;665.840000000000,1377.75974025974;657.720000000000,1360.95779220779;649.600000000000,1344.15584415584;649.600000000000,1344.15584415584;641.480000000000,1327.35389610390;633.360000000000,1310.55194805195;625.240000000000,1293.75000000000;617.120000000000,1276.94805194805;617.120000000000,1276.94805194805;609,1260.14610389610;600.880000000000,1243.34415584416;592.760000000000,1226.54220779221;584.640000000000,1209.74025974026;584.640000000000,1209.74025974026;576.520000000000,1192.93831168831;568.400000000000,1176.13636363636;560.280000000000,1159.33441558442;552.160000000000,1142.53246753247;552.160000000000,1142.53246753247;544.040000000000,1125.73051948052;535.920000000000,1108.92857142857;527.800000000000,1092.12662337662;519.680000000000,1075.32467532468;519.680000000000,1075.32467532468;511.560000000000,1058.52272727273;503.440000000000,1041.72077922078;495.320000000000,1024.91883116883;487.200000000000,1008.11688311688;487.200000000000,1008.11688311688;479.080000000000,991.314935064935;470.960000000000,974.512987012987;462.840000000000,957.711038961039;454.720000000000,940.909090909091;454.720000000000,940.909090909091;446.600000000000,924.107142857143;438.480000000000,907.305194805195;430.360000000000,890.503246753247;422.240000000000,873.701298701299;422.240000000000,873.701298701299;414.120000000000,856.899350649351;406,840.097402597403;397.880000000000,823.295454545455;389.760000000000,806.493506493507;389.760000000000,806.493506493507;381.640000000000,789.691558441559;373.520000000000,772.889610389610;365.400000000000,756.087662337662;357.280000000000,739.285714285714;357.280000000000,739.285714285714;349.160000000000,722.483766233766;341.040000000000,705.681818181818;332.920000000000,688.879870129870;324.800000000000,672.077922077922;324.800000000000,672.077922077922;316.680000000000,655.275974025974;308.560000000000,638.474025974026;300.440000000000,621.672077922078;292.320000000000,604.870129870130;292.320000000000,604.870129870130;284.200000000000,588.068181818182;276.080000000000,571.266233766234;267.960000000000,554.464285714286;259.840000000000,537.662337662338;259.840000000000,537.662337662338;251.720000000000,520.860389610390;243.600000000000,504.058441558442;235.480000000000,487.256493506494;227.360000000000,470.454545454545;]; */
  /* camino = [3832.64000000000,470.454545454545;3824.52000000000,487.256493506494;3816.40000000000,504.058441558442;3808.28000000000,520.860389610390;3800.16000000000,537.662337662338;3800.16000000000,537.662337662338;3792.04000000000,554.464285714286;3783.92000000000,571.266233766234;3775.80000000000,588.068181818182;3767.68000000000,604.870129870130;3767.68000000000,604.870129870130;3759.56000000000,621.672077922078;3751.44000000000,638.474025974026;3743.32000000000,655.275974025974;3735.20000000000,672.077922077922;3735.20000000000,672.077922077922;3727.08000000000,688.879870129870;3718.96000000000,705.681818181818;3710.84000000000,722.483766233766;3702.72000000000,739.285714285714;3702.72000000000,739.285714285714;3694.60000000000,756.087662337662;3686.48000000000,772.889610389610;3678.36000000000,789.691558441559;3670.24000000000,806.493506493507;3670.24000000000,806.493506493507;3662.12000000000,823.295454545455;3654,840.097402597403;3645.88000000000,856.899350649351;3637.76000000000,873.701298701299;3637.76000000000,873.701298701299;3629.64000000000,890.503246753247;3621.52000000000,907.305194805195;3613.40000000000,924.107142857143;3605.28000000000,940.909090909091;3605.28000000000,940.909090909091;3597.16000000000,957.711038961039;3589.04000000000,974.512987012987;3580.92000000000,991.314935064935;3572.80000000000,1008.11688311688;3572.80000000000,1008.11688311688;3564.68000000000,1024.91883116883;3556.56000000000,1041.72077922078;3548.44000000000,1058.52272727273;3540.32000000000,1075.32467532468;3540.32000000000,1075.32467532468;3532.20000000000,1092.12662337662;3524.08000000000,1108.92857142857;3515.96000000000,1125.73051948052;3507.84000000000,1142.53246753247;3507.84000000000,1142.53246753247;3499.72000000000,1159.33441558442;3491.60000000000,1176.13636363636;3483.48000000000,1192.93831168831;3475.36000000000,1209.74025974026;3475.36000000000,1209.74025974026;3467.24000000000,1226.54220779221;3459.12000000000,1243.34415584416;3451,1260.14610389610;3442.88000000000,1276.94805194805;3442.88000000000,1276.94805194805;3434.76000000000,1293.75000000000;3426.64000000000,1310.55194805195;3418.52000000000,1327.35389610390;3410.40000000000,1344.15584415584;3410.40000000000,1344.15584415584;3402.28000000000,1360.95779220779;3394.16000000000,1377.75974025974;3386.04000000000,1394.56168831169;3377.92000000000,1411.36363636364;3377.92000000000,1411.36363636364;3369.80000000000,1428.16558441558;3361.68000000000,1444.96753246753;3353.56000000000,1461.76948051948;3345.44000000000,1478.57142857143;3345.44000000000,1478.57142857143;3337.32000000000,1495.37337662338;3329.20000000000,1512.17532467532;3321.08000000000,1528.97727272727;3312.96000000000,1545.77922077922;3312.96000000000,1545.77922077922;3304.84000000000,1562.58116883117;3296.72000000000,1579.38311688312;3288.60000000000,1596.18506493507;3280.48000000000,1612.98701298701;3280.48000000000,1612.98701298701;3272.36000000000,1629.78896103896;3264.24000000000,1646.59090909091;3256.12000000000,1663.39285714286;3248,1680.19480519481;3248,1680.19480519481;3239.88000000000,1696.99675324675;3231.76000000000,1713.79870129870;3223.64000000000,1730.60064935065;3215.52000000000,1747.40259740260;3215.52000000000,1747.40259740260;3207.40000000000,1764.20454545455;3199.28000000000,1781.00649350649;3191.16000000000,1797.80844155844;3183.04000000000,1814.61038961039;3183.04000000000,1814.61038961039;3174.92000000000,1831.41233766234;3166.80000000000,1848.21428571429;3158.68000000000,1865.01623376623;3150.56000000000,1881.81818181818;3150.56000000000,1881.81818181818;3142.44000000000,1898.62012987013;3134.32000000000,1915.42207792208;3126.20000000000,1932.22402597403;3118.08000000000,1949.02597402597;3118.08000000000,1949.02597402597;3109.96000000000,1965.82792207792;3101.84000000000,1982.62987012987;3093.72000000000,1999.43181818182;3085.60000000000,2016.23376623377;3085.60000000000,2016.23376623377;3077.48000000000,2033.03571428571;3069.36000000000,2049.83766233766;3061.24000000000,2066.63961038961;3053.12000000000,2083.44155844156;3053.12000000000,2083.44155844156;3045,2100.24350649351;3036.88000000000,2117.04545454545;3028.76000000000,2133.84740259740;3020.64000000000,2150.64935064935;3020.64000000000,2150.64935064935;3012.52000000000,2167.45129870130;3004.40000000000,2184.25324675325;2996.28000000000,2201.05519480520;2988.16000000000,2217.85714285714;2988.16000000000,2217.85714285714;2980.04000000000,2234.65909090909;2971.92000000000,2251.46103896104;2963.80000000000,2268.26298701299;2955.68000000000,2285.06493506494;2955.68000000000,2285.06493506494;2947.56000000000,2301.86688311688;2939.44000000000,2318.66883116883;2931.32000000000,2335.47077922078;2923.20000000000,2352.27272727273;2923.20000000000,2352.27272727273;2915.08000000000,2369.07467532468;2906.96000000000,2385.87662337662;2898.84000000000,2402.67857142857;2890.72000000000,2419.48051948052;2890.72000000000,2419.48051948052;2882.60000000000,2436.28246753247;2874.48000000000,2453.08441558442;2866.36000000000,2469.88636363636;2858.24000000000,2486.68831168831;2858.24000000000,2486.68831168831;2850.12000000000,2503.49025974026;2842,2520.29220779221;2833.88000000000,2537.09415584416;2825.76000000000,2553.89610389610;2825.76000000000,2553.89610389610;2817.64000000000,2570.69805194805;2809.52000000000,2587.50000000000;2801.40000000000,2604.30194805195;2793.28000000000,2621.10389610390;2793.28000000000,2621.10389610390;2785.16000000000,2621.10389610390;2777.04000000000,2621.10389610390;2768.92000000000,2621.10389610390;2760.80000000000,2621.10389610390;2760.80000000000,2621.10389610390;2752.68000000000,2621.10389610390;2744.56000000000,2621.10389610390;2736.44000000000,2621.10389610390;2728.32000000000,2621.10389610390;2728.32000000000,2621.10389610390;2720.20000000000,2621.10389610390;2712.08000000000,2621.10389610390;2703.96000000000,2621.10389610390;2695.84000000000,2621.10389610390;2695.84000000000,2621.10389610390;2687.72000000000,2621.10389610390;2679.60000000000,2621.10389610390;2671.48000000000,2621.10389610390;2663.36000000000,2621.10389610390;2663.36000000000,2621.10389610390;2655.24000000000,2621.10389610390;2647.12000000000,2621.10389610390;2639,2621.10389610390;2630.88000000000,2621.10389610390;2630.88000000000,2621.10389610390;2622.76000000000,2621.10389610390;2614.64000000000,2621.10389610390;2606.52000000000,2621.10389610390;2598.40000000000,2621.10389610390;2598.40000000000,2621.10389610390;2590.28000000000,2621.10389610390;2582.16000000000,2621.10389610390;2574.04000000000,2621.10389610390;2565.92000000000,2621.10389610390;2565.92000000000,2621.10389610390;2557.80000000000,2621.10389610390;2549.68000000000,2621.10389610390;2541.56000000000,2621.10389610390;2533.44000000000,2621.10389610390;2533.44000000000,2621.10389610390;2525.32000000000,2621.10389610390;2517.20000000000,2621.10389610390;2509.08000000000,2621.10389610390;2500.96000000000,2621.10389610390;2500.96000000000,2621.10389610390;2492.84000000000,2621.10389610390;2484.72000000000,2621.10389610390;2476.60000000000,2621.10389610390;2468.48000000000,2621.10389610390;2468.48000000000,2621.10389610390;2460.36000000000,2621.10389610390;2452.24000000000,2621.10389610390;2444.12000000000,2621.10389610390;2436,2621.10389610390;2436,2621.10389610390;2427.88000000000,2621.10389610390;2419.76000000000,2621.10389610390;2411.64000000000,2621.10389610390;2403.52000000000,2621.10389610390;2403.52000000000,2621.10389610390;2395.40000000000,2621.10389610390;2387.28000000000,2621.10389610390;2379.16000000000,2621.10389610390;2371.04000000000,2621.10389610390;2371.04000000000,2621.10389610390;2362.92000000000,2621.10389610390;2354.80000000000,2621.10389610390;2346.68000000000,2621.10389610390;2338.56000000000,2621.10389610390;2338.56000000000,2621.10389610390;2330.44000000000,2621.10389610390;2322.32000000000,2621.10389610390;2314.20000000000,2621.10389610390;2306.08000000000,2621.10389610390;2306.08000000000,2621.10389610390;2297.96000000000,2621.10389610390;2289.84000000000,2621.10389610390;2281.72000000000,2621.10389610390;2273.60000000000,2621.10389610390;2273.60000000000,2621.10389610390;2265.48000000000,2621.10389610390;2257.36000000000,2621.10389610390;2249.24000000000,2621.10389610390;2241.12000000000,2621.10389610390;2241.12000000000,2621.10389610390;2233,2621.10389610390;2224.88000000000,2621.10389610390;2216.76000000000,2621.10389610390;2208.64000000000,2621.10389610390;2208.64000000000,2621.10389610390;2200.52000000000,2621.10389610390;2192.40000000000,2621.10389610390;2184.28000000000,2621.10389610390;2176.16000000000,2621.10389610390;2176.16000000000,2621.10389610390;2168.04000000000,2621.10389610390;2159.92000000000,2621.10389610390;2151.80000000000,2621.10389610390;2143.68000000000,2621.10389610390;2143.68000000000,2621.10389610390;2135.56000000000,2621.10389610390;2127.44000000000,2621.10389610390;2119.32000000000,2621.10389610390;2111.20000000000,2621.10389610390;2111.20000000000,2621.10389610390;2103.08000000000,2621.10389610390;2094.96000000000,2621.10389610390;2086.84000000000,2621.10389610390;2078.72000000000,2621.10389610390;2078.72000000000,2621.10389610390;2070.60000000000,2621.10389610390;2062.48000000000,2621.10389610390;2054.36000000000,2621.10389610390;2046.24000000000,2621.10389610390;2046.24000000000,2621.10389610390;2038.12000000000,2621.10389610390;2030,2621.10389610390;2021.88000000000,2621.10389610390;2013.76000000000,2621.10389610390;2013.76000000000,2621.10389610390;2005.64000000000,2621.10389610390;1997.52000000000,2621.10389610390;1989.40000000000,2621.10389610390;1981.28000000000,2621.10389610390;1981.28000000000,2621.10389610390;1973.16000000000,2621.10389610390;1965.04000000000,2621.10389610390;1956.92000000000,2621.10389610390;1948.80000000000,2621.10389610390;1948.80000000000,2621.10389610390;1940.68000000000,2621.10389610390;1932.56000000000,2621.10389610390;1924.44000000000,2621.10389610390;1916.32000000000,2621.10389610390;1916.32000000000,2621.10389610390;1908.20000000000,2621.10389610390;1900.08000000000,2621.10389610390;1891.96000000000,2621.10389610390;1883.84000000000,2621.10389610390;1883.84000000000,2621.10389610390;1875.72000000000,2621.10389610390;1867.60000000000,2621.10389610390;1859.48000000000,2621.10389610390;1851.36000000000,2621.10389610390;1851.36000000000,2621.10389610390;1843.24000000000,2621.10389610390;1835.12000000000,2621.10389610390;1827,2621.10389610390;1818.88000000000,2621.10389610390;1818.88000000000,2621.10389610390;1810.76000000000,2621.10389610390;1802.64000000000,2621.10389610390;1794.52000000000,2621.10389610390;1786.40000000000,2621.10389610390;1786.40000000000,2621.10389610390;1778.28000000000,2621.10389610390;1770.16000000000,2621.10389610390;1762.04000000000,2621.10389610390;1753.92000000000,2621.10389610390;1753.92000000000,2621.10389610390;1745.80000000000,2621.10389610390;1737.68000000000,2621.10389610390;1729.56000000000,2621.10389610390;1721.44000000000,2621.10389610390;1721.44000000000,2621.10389610390;1713.32000000000,2621.10389610390;1705.20000000000,2621.10389610390;1697.08000000000,2621.10389610390;1688.96000000000,2621.10389610390;1688.96000000000,2621.10389610390;1680.84000000000,2621.10389610390;1672.72000000000,2621.10389610390;1664.60000000000,2621.10389610390;1656.48000000000,2621.10389610390;1656.48000000000,2621.10389610390;1648.36000000000,2621.10389610390;1640.24000000000,2621.10389610390;1632.12000000000,2621.10389610390;1624,2621.10389610390;1624,2621.10389610390;1615.88000000000,2621.10389610390;1607.76000000000,2621.10389610390;1599.64000000000,2621.10389610390;1591.52000000000,2621.10389610390;1591.52000000000,2621.10389610390;1583.40000000000,2621.10389610390;1575.28000000000,2621.10389610390;1567.16000000000,2621.10389610390;1559.04000000000,2621.10389610390;1559.04000000000,2621.10389610390;1550.92000000000,2621.10389610390;1542.80000000000,2621.10389610390;1534.68000000000,2621.10389610390;1526.56000000000,2621.10389610390;1526.56000000000,2621.10389610390;1518.44000000000,2621.10389610390;1510.32000000000,2621.10389610390;1502.20000000000,2621.10389610390;1494.08000000000,2621.10389610390;1494.08000000000,2621.10389610390;1485.96000000000,2621.10389610390;1477.84000000000,2621.10389610390;1469.72000000000,2621.10389610390;1461.60000000000,2621.10389610390;1461.60000000000,2621.10389610390;1453.48000000000,2621.10389610390;1445.36000000000,2621.10389610390;1437.24000000000,2621.10389610390;1429.12000000000,2621.10389610390;1429.12000000000,2621.10389610390;1421,2621.10389610390;1412.88000000000,2621.10389610390;1404.76000000000,2621.10389610390;1396.64000000000,2621.10389610390;1396.64000000000,2621.10389610390;1388.52000000000,2621.10389610390;1380.40000000000,2621.10389610390;1372.28000000000,2621.10389610390;1364.16000000000,2621.10389610390;1364.16000000000,2621.10389610390;1356.04000000000,2621.10389610390;1347.92000000000,2621.10389610390;1339.80000000000,2621.10389610390;1331.68000000000,2621.10389610390;1331.68000000000,2621.10389610390;1323.56000000000,2621.10389610390;1315.44000000000,2621.10389610390;1307.32000000000,2621.10389610390;1299.20000000000,2621.10389610390;1299.20000000000,2621.10389610390;1291.08000000000,2621.10389610390;1282.96000000000,2621.10389610390;1274.84000000000,2621.10389610390;1266.72000000000,2621.10389610390;1266.72000000000,2621.10389610390;1258.60000000000,2621.10389610390;1250.48000000000,2621.10389610390;1242.36000000000,2621.10389610390;1234.24000000000,2621.10389610390;1234.24000000000,2621.10389610390;1226.12000000000,2637.90584415584;1218,2654.70779220779;1209.88000000000,2671.50974025974;1201.76000000000,2688.31168831169;1201.76000000000,2688.31168831169;1193.64000000000,2705.11363636364;1185.52000000000,2721.91558441558;1177.40000000000,2738.71753246753;1169.28000000000,2755.51948051948;1169.28000000000,2755.51948051948;1161.16000000000,2772.32142857143;1153.04000000000,2789.12337662338;1144.92000000000,2805.92532467532;1136.80000000000,2822.72727272727;1136.80000000000,2822.72727272727;1128.68000000000,2839.52922077922;1120.56000000000,2856.33116883117;1112.44000000000,2873.13311688312;1104.32000000000,2889.93506493507;1104.32000000000,2889.93506493507;1096.20000000000,2906.73701298701;1088.08000000000,2923.53896103896;1079.96000000000,2940.34090909091;1071.84000000000,2957.14285714286;1071.84000000000,2957.14285714286;1063.72000000000,2973.94480519481;1055.60000000000,2990.74675324675;1047.48000000000,3007.54870129870;1039.36000000000,3024.35064935065;1039.36000000000,3024.35064935065;1031.24000000000,3041.15259740260;1023.12000000000,3057.95454545455;1015,3074.75649350649;1006.88000000000,3091.55844155844;1006.88000000000,3091.55844155844;998.760000000000,3108.36038961039;990.640000000000,3125.16233766234;982.520000000000,3141.96428571429;974.400000000000,3158.76623376623;974.400000000000,3158.76623376623;966.280000000000,3175.56818181818;958.160000000000,3192.37012987013;950.040000000000,3209.17207792208;941.920000000000,3225.97402597403;941.920000000000,3225.97402597403;933.800000000000,3242.77597402597;925.680000000000,3259.57792207792;917.560000000000,3276.37987012987;909.440000000000,3293.18181818182;909.440000000000,3293.18181818182;901.320000000000,3309.98376623377;893.200000000000,3326.78571428571;885.080000000000,3343.58766233766;876.960000000000,3360.38961038961;876.960000000000,3360.38961038961;868.840000000000,3377.19155844156;860.720000000000,3393.99350649351;852.600000000000,3410.79545454545;844.480000000000,3427.59740259740;844.480000000000,3427.59740259740;836.360000000000,3444.39935064935;828.240000000000,3461.20129870130;820.120000000000,3478.00324675325;812,3494.80519480520;812,3494.80519480520;803.880000000000,3511.60714285714;795.760000000000,3528.40909090909;787.640000000000,3545.21103896104;779.520000000000,3562.01298701299;779.520000000000,3562.01298701299;771.400000000000,3578.81493506494;763.280000000000,3595.61688311688;755.160000000000,3612.41883116883;747.040000000000,3629.22077922078;747.040000000000,3629.22077922078;738.920000000000,3646.02272727273;730.800000000000,3662.82467532468;722.680000000000,3679.62662337662;714.560000000000,3696.42857142857;714.560000000000,3696.42857142857;706.440000000000,3713.23051948052;698.320000000000,3730.03246753247;690.200000000000,3746.83441558442;682.080000000000,3763.63636363636;682.080000000000,3763.63636363636;673.960000000000,3780.43831168831;665.840000000000,3797.24025974026;657.720000000000,3814.04220779221;649.600000000000,3830.84415584416;649.600000000000,3830.84415584416;641.480000000000,3847.64610389610;633.360000000000,3864.44805194805;625.240000000000,3881.25000000000;617.120000000000,3898.05194805195;617.120000000000,3898.05194805195;609,3914.85389610390;600.880000000000,3931.65584415584;592.760000000000,3948.45779220779;584.640000000000,3965.25974025974;584.640000000000,3965.25974025974;576.520000000000,3982.06168831169;568.400000000000,3998.86363636364;560.280000000000,4015.66558441559;552.160000000000,4032.46753246753;552.160000000000,4032.46753246753;544.040000000000,4049.26948051948;535.920000000000,4066.07142857143;527.800000000000,4082.87337662338;519.680000000000,4099.67532467533;519.680000000000,4099.67532467533;511.560000000000,4116.47727272727;503.440000000000,4133.27922077922;495.320000000000,4150.08116883117;487.200000000000,4166.88311688312;487.200000000000,4166.88311688312;479.080000000000,4183.68506493506;470.960000000000,4200.48701298701;462.840000000000,4217.28896103896;454.720000000000,4234.09090909091;454.720000000000,4234.09090909091;446.600000000000,4250.89285714286;438.480000000000,4267.69480519481;430.360000000000,4284.49675324675;422.240000000000,4301.29870129870;422.240000000000,4301.29870129870;414.120000000000,4318.10064935065;406,4334.90259740260;397.880000000000,4351.70454545455;389.760000000000,4368.50649350649;389.760000000000,4368.50649350649;381.640000000000,4385.30844155844;373.520000000000,4402.11038961039;365.400000000000,4418.91233766234;357.280000000000,4435.71428571429;357.280000000000,4435.71428571429;349.160000000000,4452.51623376623;341.040000000000,4469.31818181818;332.920000000000,4486.12012987013;324.800000000000,4502.92207792208;324.800000000000,4502.92207792208;316.680000000000,4519.72402597403;308.560000000000,4536.52597402597;300.440000000000,4553.32792207792;292.320000000000,4570.12987012987;292.320000000000,4570.12987012987;284.200000000000,4586.93181818182;276.080000000000,4603.73376623377;267.960000000000,4620.53571428572;259.840000000000,4637.33766233766;259.840000000000,4637.33766233766;251.720000000000,4654.13961038961;243.600000000000,4670.94155844156;235.480000000000,4687.74350649351;227.360000000000,4704.54545454546]; */
  /* '<S2>:1:7' */
  K_new = robot_diff_DWork.A + 1.0;
  if (robot_diff_DWork.A + 1.0 >= 1.0) {
    /* '<S2>:1:9' */
    /* '<S2>:1:10' */
    K_new = 1.0;
  }

  /* '<S2>:1:13' */
  robot_diff_B.X_target = (real_T)((int32_T)K_new - 1) * -832.63999999999987 +
    3832.64;

  /* '<S2>:1:14' */
  robot_diff_B.Y_target = -832.63999999999987 * (real_T)(int32_T)K_new + 3832.64;
  robot_diff_B.K_new = K_new;

  /* End of MATLAB Function: '<Root>/Get_target' */

  /* DataStoreWrite: '<Root>/Data Store Write' */
  robot_diff_DWork.A = robot_diff_B.K_new;

  /* Clock: '<Root>/Clock' */
  robot_diff_B.Clock = robot_diff_M->Timing.t[0];

  /* TransportDelay: '<Root>/Transport Delay2' */
  {
    real_T **uBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay2_PWORK.TUbufferPtrs[0];
    real_T **tBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay2_PWORK.TUbufferPtrs[1];
    real_T simTime = robot_diff_M->Timing.t[0];
    real_T tMinusDelay = simTime - robot_diff_P.TransportDelay2_Delay;
    rtb_TransportDelay2 = rt_TDelayInterpolate(
      tMinusDelay,
      0.0,
      *tBuffer,
      *uBuffer,
      robot_diff_DWork.TransportDelay2_IWORK.CircularBufSize,
      &robot_diff_DWork.TransportDelay2_IWORK.Last,
      robot_diff_DWork.TransportDelay2_IWORK.Tail,
      robot_diff_DWork.TransportDelay2_IWORK.Head,
      robot_diff_P.TransportDelay2_InitOutput,
      0,
      0);
  }

  /* TransportDelay: '<Root>/Transport Delay1' */
  {
    real_T **uBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay1_PWORK.TUbufferPtrs[0];
    real_T **tBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay1_PWORK.TUbufferPtrs[1];
    real_T simTime = robot_diff_M->Timing.t[0];
    real_T tMinusDelay = simTime - robot_diff_P.TransportDelay1_Delay;
    rtb_TransportDelay1 = rt_TDelayInterpolate(
      tMinusDelay,
      0.0,
      *tBuffer,
      *uBuffer,
      robot_diff_DWork.TransportDelay1_IWORK.CircularBufSize,
      &robot_diff_DWork.TransportDelay1_IWORK.Last,
      robot_diff_DWork.TransportDelay1_IWORK.Tail,
      robot_diff_DWork.TransportDelay1_IWORK.Head,
      robot_diff_P.TransportDelay1_InitOutput,
      0,
      0);
  }

  /* TransportDelay: '<Root>/Transport Delay' */
  {
    real_T **uBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay_PWORK.TUbufferPtrs[0];
    real_T **tBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay_PWORK.TUbufferPtrs[1];
    real_T simTime = robot_diff_M->Timing.t[0];
    real_T tMinusDelay = simTime - robot_diff_P.TransportDelay_Delay;
    rtb_TransportDelay = rt_TDelayInterpolate(
      tMinusDelay,
      0.0,
      *tBuffer,
      *uBuffer,
      robot_diff_DWork.TransportDelay_IWORK.CircularBufSize,
      &robot_diff_DWork.TransportDelay_IWORK.Last,
      robot_diff_DWork.TransportDelay_IWORK.Tail,
      robot_diff_DWork.TransportDelay_IWORK.Head,
      robot_diff_P.TransportDelay_InitOutput,
      0,
      0);
  }

  /* MATLAB Function: '<Root>/Control' */
  robot_diff_DWork.sfEvent_n = CALL_EVENT;

  /* MATLAB Function 'Control': '<S1>:1' */
  /* , gamma, dt) */
  /* '<S1>:1:3' */
  /*      if (clock == 0) */
  /*  %         estado_inicial = [3832.64000000000,470.454545454545, 0]; */
  /*  %         X = estado_inicial(1); */
  /*  %         Y = estado_inicial(2); */
  /*  %         theta = estado_inicial(3); */
  /*          d_estado = [0 0 0]'; */
  /*      else */
  /* '<S1>:1:12' */
  error[0] = 0.0;
  error[1] = 0.0;

  /* '<S1>:1:13' */
  error[0] = fabs((robot_diff_B.X_target - rtb_TransportDelay2) /
                  rtb_TransportDelay2);

  /* '<S1>:1:14' */
  error[1] = fabs((robot_diff_B.Y_target - rtb_TransportDelay1) /
                  rtb_TransportDelay1);
  if ((error[0] < 0.005) && (error[1] < 0.005)) {
    /* '<S1>:1:16' */
    /* '<S1>:1:17' */
    robot_diff_B.d_estado[0] = 0.0;
    robot_diff_B.d_estado[1] = 0.0;
    robot_diff_B.d_estado[2] = 0.0;
  } else {
    /* Kd = 0; */
    /* Ki = 0; */
    /* tao = 100; */
    /* '<S1>:1:26' */
    /* '<S1>:1:27' */
    /* last_gamma = gamma; */
    /* '<S1>:1:30' */
    /* '<S1>:1:32' */
    /* + Kd*(gamma - last_gamma)/dt + Ki*(gamma + last_gamma)*dt/2; */
    /* gamma_hat = (-gamma + K)/tao; */
    /* '<S1>:1:35' */
    /* '<S1>:1:36' */
    /* '<S1>:1:37' */
    /* '<S1>:1:39' */
    robot_diff_B.d_estado[0] = -200.0 * sin(rtb_TransportDelay);
    robot_diff_B.d_estado[1] = 200.0 * cos(rtb_TransportDelay);
    robot_diff_B.d_estado[2] = -(((robot_diff_B.X_target - rtb_TransportDelay2) *
      cos(rtb_TransportDelay) + (robot_diff_B.Y_target - rtb_TransportDelay1) *
      sin(rtb_TransportDelay)) * 2.0) / rt_powd_snf(sqrt(rt_powd_snf
      (robot_diff_B.X_target - rtb_TransportDelay2, 2.0) + rt_powd_snf
      (robot_diff_B.Y_target - rtb_TransportDelay1, 2.0)), 2.0) * 10.0 * 200.0;

    /*          end */
  }

  /* End of MATLAB Function: '<Root>/Control' */

  /* MATLAB Function: '<Root>/Modelo inverso' */
  robot_diff_DWork.sfEvent_p = CALL_EVENT;

  /* MATLAB Function 'Modelo inverso': '<S4>:1' */
  /*      if (clock == 0) */
  /*          vl = 0; */
  /*          vr = 0; */
  /*      else */
  /* '<S4>:1:9' */
  /* '<S4>:1:12' */
  tmp[0] = -sin(rtb_TransportDelay);
  tmp[2] = cos(rtb_TransportDelay);
  tmp[4] = 0.0;
  tmp[1] = 0.0;
  tmp[3] = 0.0;
  tmp[5] = 1.0;
  for (i = 0; i < 2; i++) {
    error[i] = tmp[i + 4] * robot_diff_B.d_estado[2] + (tmp[i + 2] *
      robot_diff_B.d_estado[1] + tmp[i] * robot_diff_B.d_estado[0]);
  }

  /* '<S4>:1:14' */
  /* '<S4>:1:15' */
  /* '<S4>:1:17' */
  K_new = error[0] - 126.25 * error[1];

  /* '<S4>:1:18' */
  vr = 126.25 * error[1] + error[0];

  /* '<S4>:1:20' */
  u = fabs(K_new);
  v_max = fabs(vr);
  v_max = (u >= v_max) || rtIsNaN(v_max) ? u : v_max;
  if (v_max >= 450.0) {
    /* '<S4>:1:22' */
    /* '<S4>:1:23' */
    vr = vr / v_max * 450.0;

    /* '<S4>:1:24' */
    K_new = K_new / v_max * 450.0;
  }

  /*      end */
  robot_diff_B.vl = K_new;
  robot_diff_B.vr = vr;

  /* End of MATLAB Function: '<Root>/Modelo inverso' */

  /* DataTypeConversion: '<Root>/Data Type Conversion2' */
  v_max = floor(robot_diff_B.vr);
  if (rtIsNaN(v_max) || rtIsInf(v_max)) {
    v_max = 0.0;
  } else {
    v_max = fmod(v_max, 65536.0);
  }

  robot_diff_B.DataTypeConversion2 = (int16_T)(v_max < 0.0 ? (int16_T)-(int16_T)
    (uint16_T)-v_max : (int16_T)(uint16_T)v_max);

  /* End of DataTypeConversion: '<Root>/Data Type Conversion2' */

  /* DataTypeConversion: '<Root>/Data Type Conversion1' */
  v_max = floor(robot_diff_B.vl);
  if (rtIsNaN(v_max) || rtIsInf(v_max)) {
    v_max = 0.0;
  } else {
    v_max = fmod(v_max, 65536.0);
  }

  robot_diff_B.DataTypeConversion1 = (int16_T)(v_max < 0.0 ? (int16_T)-(int16_T)
    (uint16_T)-v_max : (int16_T)(uint16_T)v_max);

  /* End of DataTypeConversion: '<Root>/Data Type Conversion1' */

  /* S-Function (roomba_direct_drive_block): '<Root>/Roomba Direct Drive' incorporates:
   *  S-Function (roomba_initialize_block): '<Root>/Roomba Initialize'
   */
  {
    roomba_direct_drive(((t_roomba)robot_diff_DWork.RoombaInitialize_Roomba),
                        robot_diff_B.DataTypeConversion2,
                        robot_diff_B.DataTypeConversion1);
    rtb_RoombaDirectDrive_o1 = ((t_roomba)
      robot_diff_DWork.RoombaInitialize_Roomba);
  }

  /* S-Function (roomba_query_list_block): '<Root>/Roomba Query List' incorporates:
   *  Constant: '<Root>/ids'
   */
  {
    t_error result = 0;
    result = roomba_query_list(rtb_RoombaDirectDrive_o1, rtb_RoombaQueryList_o2,
      robot_diff_P.ids_Value, 5);
    rtb_RoombaQueryList_o1 = rtb_RoombaDirectDrive_o1;
    rtb_RoombaQueryList_o3 = (int32_T) result;
  }

  /* DataTypeConversion: '<Root>/Data Type Conversion' */
  for (i = 0; i < 5; i++) {
    robot_diff_B.DataTypeConversion[i] = (real_T)rtb_RoombaQueryList_o2[i];
  }

  /* End of DataTypeConversion: '<Root>/Data Type Conversion' */

  /* MATLAB Function: '<Root>/Modelo directo' incorporates:
   *  Constant: '<Root>/ids2'
   */
  robot_diff_DWork.sfEvent_g = CALL_EVENT;

  /* MATLAB Function 'Modelo directo': '<S3>:1' */
  /*      if  (clock == 0) */
  /*          %estado_inicial = [3832.64000000000;470.454545454545;0]; */
  /*          %estado_inicial = [0 0 0]; */
  /*          estado_inicial = [3832.64000000000,470.454545454545, 0]; */
  /*          X_old = estado_inicial(1); */
  /*          Y_old = estado_inicial(2); */
  /*          theta_old = 0; */
  /*           */
  /*          X = X_old; */
  /*          Y = Y_old; */
  /*          theta = theta_old; */
  /*      end */
  /* '<S3>:1:19' */
  /* '<S3>:1:20' */
  /*  Calculo del modelo jacobiano */
  /* '<S3>:1:23' */
  /* '<S3>:1:25' */
  /* '<S3>:1:29' */
  v_max = (robot_diff_B.DataTypeConversion[3] + robot_diff_B.DataTypeConversion
           [4]) / 2.0;
  u = (robot_diff_B.DataTypeConversion[3] - robot_diff_B.DataTypeConversion[4]) /
    252.5;
  tmp[0] = -sin(rtb_TransportDelay);
  tmp[3] = 0.0;
  tmp[1] = cos(rtb_TransportDelay);
  tmp[4] = 0.0;
  tmp[2] = 0.0;
  tmp[5] = 1.0;
  for (i = 0; i < 3; i++) {
    d_estado[i] = tmp[i + 3] * u + tmp[i] * v_max;
  }

  /* '<S3>:1:31' */
  robot_diff_B.X = d_estado[0] * robot_diff_P.ids2_Value + rtb_TransportDelay2;

  /* '<S3>:1:32' */
  robot_diff_B.Y = d_estado[1] * robot_diff_P.ids2_Value + rtb_TransportDelay1;

  /* '<S3>:1:33' */
  K_new = d_estado[2] * robot_diff_P.ids2_Value;
  if (K_new > 3.1415926535897931) {
    /* '<S3>:1:39' */
    /* '<S3>:1:40' */
    K_new -= 6.2831853071795862;
  } else if (K_new < -3.1415926535897931) {
    /* '<S3>:1:41' */
    /* '<S3>:1:42' */
    K_new += 6.2831853071795862;
  } else {
    /* '<S3>:1:44' */
  }

  K_new += rtb_TransportDelay;
  if (K_new > 3.1415926535897931) {
    /* '<S3>:1:39' */
    /* '<S3>:1:40' */
    robot_diff_B.theta = K_new - 6.2831853071795862;
  } else if (K_new < -3.1415926535897931) {
    /* '<S3>:1:41' */
    /* '<S3>:1:42' */
    robot_diff_B.theta = K_new + 6.2831853071795862;
  } else {
    /* '<S3>:1:44' */
    robot_diff_B.theta = K_new;
  }

  /* End of MATLAB Function: '<Root>/Modelo directo' */
  /* end */

  /* S-Function (hil_read_write_block): '<Root>/HIL Read Write' */

  /* S-Function Block: robot_diff/HIL Read Write (hil_read_write_block) */
  {
    t_error result;
    result = hil_read_write(robot_diff_DWork.HILInitialize_Card,
      robot_diff_P.HILReadWrite_R_AnalogChannels, 5U,
      NULL, 0U,
      NULL, 0U,
      robot_diff_P.HILReadWrite_R_OtherChannels, 7U,
      NULL, 0U,
      NULL, 0U,
      NULL, 0U,
      NULL, 0U,
      rtb_HILReadWrite_o1,
      NULL,
      NULL,
      rtb_HILReadWrite_o2,
      NULL,
      NULL,
      NULL,
      NULL
      );
    if (result < 0) {
      msg_get_error_messageA(NULL, result, _rt_error_message, sizeof
        (_rt_error_message));
      rtmSetErrorStatus(robot_diff_M, _rt_error_message);
    }
  }

  /* MATLAB Function: '<Root>/Modelo inverso1' */
  robot_diff_DWork.sfEvent = CALL_EVENT;

  /* MATLAB Function 'Modelo inverso1': '<S5>:1' */
  /* load('pol.mat'); */
  /* '<S5>:1:4' */
  for (i = 0; i < 5; i++) {
    robot_diff_B.ro[i] = 135.931074586891;
  }

  for (b_k = 0; b_k < 4; b_k++) {
    for (i = 0; i < 5; i++) {
      robot_diff_B.ro[i] = rtb_HILReadWrite_o1[i] * robot_diff_B.ro[i] + c[1 +
        b_k];
    }
  }

  b_k = 0;
  for (i = 0; i < 5; i++) {
    x_0 = (robot_diff_B.ro[i] > 1500.0);
    if (x_0) {
      b_k++;
    }

    x[i] = x_0;
  }

  b_sizes = b_k - 1;
  b_k = 0;
  for (i = 0; i < 5; i++) {
    if (x[i]) {
      b_data[b_k] = i + 1;
      b_k++;
    }
  }

  /* '<S5>:1:6' */
  for (i = 0; i <= b_sizes; i++) {
    robot_diff_B.ro[b_data[i] - 1] = 1500.0;
  }

  /* End of MATLAB Function: '<Root>/Modelo inverso1' */

  /* tid is required for a uniform function interface.
   * Argument tid is not used in the function. */
  UNUSED_PARAMETER(tid);
}

/* Model update function */
void robot_diff_update(int_T tid)
{
  /* Update for TransportDelay: '<Root>/Transport Delay2' */
  {
    real_T **uBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay2_PWORK.TUbufferPtrs[0];
    real_T **tBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay2_PWORK.TUbufferPtrs[1];
    real_T simTime = robot_diff_M->Timing.t[0];
    robot_diff_DWork.TransportDelay2_IWORK.Head =
      ((robot_diff_DWork.TransportDelay2_IWORK.Head <
        (robot_diff_DWork.TransportDelay2_IWORK.CircularBufSize-1)) ?
       (robot_diff_DWork.TransportDelay2_IWORK.Head+1) : 0);
    if (robot_diff_DWork.TransportDelay2_IWORK.Head ==
        robot_diff_DWork.TransportDelay2_IWORK.Tail) {
      robot_diff_DWork.TransportDelay2_IWORK.Tail =
        ((robot_diff_DWork.TransportDelay2_IWORK.Tail <
          (robot_diff_DWork.TransportDelay2_IWORK.CircularBufSize-1)) ?
         (robot_diff_DWork.TransportDelay2_IWORK.Tail+1) : 0);
    }

    (*tBuffer)[robot_diff_DWork.TransportDelay2_IWORK.Head] = simTime;
    (*uBuffer)[robot_diff_DWork.TransportDelay2_IWORK.Head] = robot_diff_B.X;
  }

  /* Update for TransportDelay: '<Root>/Transport Delay1' */
  {
    real_T **uBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay1_PWORK.TUbufferPtrs[0];
    real_T **tBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay1_PWORK.TUbufferPtrs[1];
    real_T simTime = robot_diff_M->Timing.t[0];
    robot_diff_DWork.TransportDelay1_IWORK.Head =
      ((robot_diff_DWork.TransportDelay1_IWORK.Head <
        (robot_diff_DWork.TransportDelay1_IWORK.CircularBufSize-1)) ?
       (robot_diff_DWork.TransportDelay1_IWORK.Head+1) : 0);
    if (robot_diff_DWork.TransportDelay1_IWORK.Head ==
        robot_diff_DWork.TransportDelay1_IWORK.Tail) {
      robot_diff_DWork.TransportDelay1_IWORK.Tail =
        ((robot_diff_DWork.TransportDelay1_IWORK.Tail <
          (robot_diff_DWork.TransportDelay1_IWORK.CircularBufSize-1)) ?
         (robot_diff_DWork.TransportDelay1_IWORK.Tail+1) : 0);
    }

    (*tBuffer)[robot_diff_DWork.TransportDelay1_IWORK.Head] = simTime;
    (*uBuffer)[robot_diff_DWork.TransportDelay1_IWORK.Head] = robot_diff_B.Y;
  }

  /* Update for TransportDelay: '<Root>/Transport Delay' */
  {
    real_T **uBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay_PWORK.TUbufferPtrs[0];
    real_T **tBuffer = (real_T**)
      &robot_diff_DWork.TransportDelay_PWORK.TUbufferPtrs[1];
    real_T simTime = robot_diff_M->Timing.t[0];
    robot_diff_DWork.TransportDelay_IWORK.Head =
      ((robot_diff_DWork.TransportDelay_IWORK.Head <
        (robot_diff_DWork.TransportDelay_IWORK.CircularBufSize-1)) ?
       (robot_diff_DWork.TransportDelay_IWORK.Head+1) : 0);
    if (robot_diff_DWork.TransportDelay_IWORK.Head ==
        robot_diff_DWork.TransportDelay_IWORK.Tail) {
      robot_diff_DWork.TransportDelay_IWORK.Tail =
        ((robot_diff_DWork.TransportDelay_IWORK.Tail <
          (robot_diff_DWork.TransportDelay_IWORK.CircularBufSize-1)) ?
         (robot_diff_DWork.TransportDelay_IWORK.Tail+1) : 0);
    }

    (*tBuffer)[robot_diff_DWork.TransportDelay_IWORK.Head] = simTime;
    (*uBuffer)[robot_diff_DWork.TransportDelay_IWORK.Head] = robot_diff_B.theta;
  }

  /* Update absolute time for base rate */
  /* The "clockTick0" counts the number of times the code of this task has
   * been executed. The absolute time is the multiplication of "clockTick0"
   * and "Timing.stepSize0". Size of "clockTick0" ensures timer will not
   * overflow during the application lifespan selected.
   * Timer of this task consists of two 32 bit unsigned integers.
   * The two integers represent the low bits Timing.clockTick0 and the high bits
   * Timing.clockTickH0. When the low bit overflows to 0, the high bits increment.
   */
  if (!(++robot_diff_M->Timing.clockTick0)) {
    ++robot_diff_M->Timing.clockTickH0;
  }

  robot_diff_M->Timing.t[0] = robot_diff_M->Timing.clockTick0 *
    robot_diff_M->Timing.stepSize0 + robot_diff_M->Timing.clockTickH0 *
    robot_diff_M->Timing.stepSize0 * 4294967296.0;

  {
    /* Update absolute timer for sample time: [0.1s, 0.0s] */
    /* The "clockTick1" counts the number of times the code of this task has
     * been executed. The absolute time is the multiplication of "clockTick1"
     * and "Timing.stepSize1". Size of "clockTick1" ensures timer will not
     * overflow during the application lifespan selected.
     * Timer of this task consists of two 32 bit unsigned integers.
     * The two integers represent the low bits Timing.clockTick1 and the high bits
     * Timing.clockTickH1. When the low bit overflows to 0, the high bits increment.
     */
    if (!(++robot_diff_M->Timing.clockTick1)) {
      ++robot_diff_M->Timing.clockTickH1;
    }

    robot_diff_M->Timing.t[1] = robot_diff_M->Timing.clockTick1 *
      robot_diff_M->Timing.stepSize1 + robot_diff_M->Timing.clockTickH1 *
      robot_diff_M->Timing.stepSize1 * 4294967296.0;
  }

  /* tid is required for a uniform function interface.
   * Argument tid is not used in the function. */
  UNUSED_PARAMETER(tid);
}

/* Model initialize function */
void robot_diff_initialize(boolean_T firstTime)
{
  (void)firstTime;

  /* Registration code */

  /* initialize non-finites */
  rt_InitInfAndNaN(sizeof(real_T));

  /* initialize real-time model */
  (void) memset((void *)robot_diff_M, 0,
                sizeof(RT_MODEL_robot_diff));

  {
    /* Setup solver object */
    rtsiSetSimTimeStepPtr(&robot_diff_M->solverInfo,
                          &robot_diff_M->Timing.simTimeStep);
    rtsiSetTPtr(&robot_diff_M->solverInfo, &rtmGetTPtr(robot_diff_M));
    rtsiSetStepSizePtr(&robot_diff_M->solverInfo,
                       &robot_diff_M->Timing.stepSize0);
    rtsiSetErrorStatusPtr(&robot_diff_M->solverInfo, (&rtmGetErrorStatus
      (robot_diff_M)));
    rtsiSetRTModelPtr(&robot_diff_M->solverInfo, robot_diff_M);
  }

  rtsiSetSimTimeStep(&robot_diff_M->solverInfo, MAJOR_TIME_STEP);
  rtsiSetSolverName(&robot_diff_M->solverInfo,"FixedStepDiscrete");

  /* Initialize timing info */
  {
    int_T *mdlTsMap = robot_diff_M->Timing.sampleTimeTaskIDArray;
    mdlTsMap[0] = 0;
    mdlTsMap[1] = 1;
    robot_diff_M->Timing.sampleTimeTaskIDPtr = (&mdlTsMap[0]);
    robot_diff_M->Timing.sampleTimes = (&robot_diff_M->Timing.sampleTimesArray[0]);
    robot_diff_M->Timing.offsetTimes = (&robot_diff_M->Timing.offsetTimesArray[0]);

    /* task periods */
    robot_diff_M->Timing.sampleTimes[0] = (0.0);
    robot_diff_M->Timing.sampleTimes[1] = (0.1);

    /* task offsets */
    robot_diff_M->Timing.offsetTimes[0] = (0.0);
    robot_diff_M->Timing.offsetTimes[1] = (0.0);
  }

  rtmSetTPtr(robot_diff_M, &robot_diff_M->Timing.tArray[0]);

  {
    int_T *mdlSampleHits = robot_diff_M->Timing.sampleHitArray;
    mdlSampleHits[0] = 1;
    mdlSampleHits[1] = 1;
    robot_diff_M->Timing.sampleHits = (&mdlSampleHits[0]);
  }

  rtmSetTFinal(robot_diff_M, -1);
  robot_diff_M->Timing.stepSize0 = 0.1;
  robot_diff_M->Timing.stepSize1 = 0.1;

  /* external mode info */
  robot_diff_M->Sizes.checksums[0] = (1042964536U);
  robot_diff_M->Sizes.checksums[1] = (2800824690U);
  robot_diff_M->Sizes.checksums[2] = (4166025375U);
  robot_diff_M->Sizes.checksums[3] = (2112424193U);

  {
    static const sysRanDType rtAlwaysEnabled = SUBSYS_RAN_BC_ENABLE;
    static RTWExtModeInfo rt_ExtModeInfo;
    static const sysRanDType *systemRan[6];
    robot_diff_M->extModeInfo = (&rt_ExtModeInfo);
    rteiSetSubSystemActiveVectorAddresses(&rt_ExtModeInfo, systemRan);
    systemRan[0] = &rtAlwaysEnabled;
    systemRan[1] = &rtAlwaysEnabled;
    systemRan[2] = &rtAlwaysEnabled;
    systemRan[3] = &rtAlwaysEnabled;
    systemRan[4] = &rtAlwaysEnabled;
    systemRan[5] = &rtAlwaysEnabled;
    rteiSetModelMappingInfoPtr(robot_diff_M->extModeInfo,
      &robot_diff_M->SpecialInfo.mappingInfo);
    rteiSetChecksumsPtr(robot_diff_M->extModeInfo, robot_diff_M->Sizes.checksums);
    rteiSetTPtr(robot_diff_M->extModeInfo, rtmGetTPtr(robot_diff_M));
  }

  robot_diff_M->solverInfoPtr = (&robot_diff_M->solverInfo);
  robot_diff_M->Timing.stepSize = (0.1);
  rtsiSetFixedStepSize(&robot_diff_M->solverInfo, 0.1);
  rtsiSetSolverMode(&robot_diff_M->solverInfo, SOLVER_MODE_SINGLETASKING);

  /* block I/O */
  robot_diff_M->ModelData.blockIO = ((void *) &robot_diff_B);
  (void) memset(((void *) &robot_diff_B), 0,
                sizeof(BlockIO_robot_diff));

  {
    int_T i;
    for (i = 0; i < 5; i++) {
      robot_diff_B.DataTypeConversion[i] = 0.0;
    }

    for (i = 0; i < 5; i++) {
      robot_diff_B.ro[i] = 0.0;
    }

    robot_diff_B.Clock = 0.0;
    robot_diff_B.vl = 0.0;
    robot_diff_B.vr = 0.0;
    robot_diff_B.X = 0.0;
    robot_diff_B.Y = 0.0;
    robot_diff_B.theta = 0.0;
    robot_diff_B.X_target = 0.0;
    robot_diff_B.Y_target = 0.0;
    robot_diff_B.K_new = 0.0;
    robot_diff_B.d_estado[0] = 0.0;
    robot_diff_B.d_estado[1] = 0.0;
    robot_diff_B.d_estado[2] = 0.0;
  }

  /* parameters */
  robot_diff_M->ModelData.defaultParam = ((real_T *)&robot_diff_P);

  /* states (dwork) */
  robot_diff_M->Work.dwork = ((void *) &robot_diff_DWork);
  (void) memset((void *)&robot_diff_DWork, 0,
                sizeof(D_Work_robot_diff));
  robot_diff_DWork.A = 0.0;
  robot_diff_DWork.TransportDelay2_RWORK.modelTStart = 0.0;

  {
    int_T i;
    for (i = 0; i < 2048; i++) {
      robot_diff_DWork.TransportDelay2_RWORK.TUbufferArea[i] = 0.0;
    }
  }

  robot_diff_DWork.TransportDelay1_RWORK.modelTStart = 0.0;

  {
    int_T i;
    for (i = 0; i < 2048; i++) {
      robot_diff_DWork.TransportDelay1_RWORK.TUbufferArea[i] = 0.0;
    }
  }

  robot_diff_DWork.TransportDelay_RWORK.modelTStart = 0.0;

  {
    int_T i;
    for (i = 0; i < 2048; i++) {
      robot_diff_DWork.TransportDelay_RWORK.TUbufferArea[i] = 0.0;
    }
  }

  /* data type transition information */
  {
    static DataTypeTransInfo dtInfo;
    (void) memset((char_T *) &dtInfo, 0,
                  sizeof(dtInfo));
    robot_diff_M->SpecialInfo.mappingInfo = (&dtInfo);
    dtInfo.numDataTypes = 16;
    dtInfo.dataTypeSizes = &rtDataTypeSizes[0];
    dtInfo.dataTypeNames = &rtDataTypeNames[0];

    /* Block I/O transition table */
    dtInfo.B = &rtBTransTable;

    /* Parameters transition table */
    dtInfo.P = &rtPTransTable;
  }
}

/* Model terminate function */
void robot_diff_terminate(void)
{
  /* Terminate for S-Function (hil_initialize_block): '<Root>/HIL Initialize' */

  /* S-Function Block: robot_diff/HIL Initialize (hil_initialize_block) */
  {
    hil_task_stop_all(robot_diff_DWork.HILInitialize_Card);
    hil_monitor_stop_all(robot_diff_DWork.HILInitialize_Card);
    hil_task_delete_all(robot_diff_DWork.HILInitialize_Card);
    hil_monitor_delete_all(robot_diff_DWork.HILInitialize_Card);
    hil_close(robot_diff_DWork.HILInitialize_Card);
    robot_diff_DWork.HILInitialize_Card = NULL;
  }

  /* Terminate for S-Function (roomba_initialize_block): '<Root>/Roomba Initialize' */

  /* S-Function Block: robot_diff/Roomba Initialize (roomba_initialize_block) */
  {
    if (robot_diff_DWork.RoombaInitialize_Roomba != NULL) {
      roomba_close(robot_diff_DWork.RoombaInitialize_Roomba);
      robot_diff_DWork.RoombaInitialize_Roomba = NULL;
    }
  }
}

/*========================================================================*
 * Start of GRT compatible call interface                                 *
 *========================================================================*/
void MdlOutputs(int_T tid)
{
  robot_diff_output(tid);
}

void MdlUpdate(int_T tid)
{
  robot_diff_update(tid);
}

void MdlInitializeSizes(void)
{
  robot_diff_M->Sizes.numContStates = (0);/* Number of continuous states */
  robot_diff_M->Sizes.numY = (0);      /* Number of model outputs */
  robot_diff_M->Sizes.numU = (0);      /* Number of model inputs */
  robot_diff_M->Sizes.sysDirFeedThru = (0);/* The model is not direct feedthrough */
  robot_diff_M->Sizes.numSampTimes = (2);/* Number of sample times */
  robot_diff_M->Sizes.numBlocks = (43);/* Number of blocks */
  robot_diff_M->Sizes.numBlockIO = (14);/* Number of block outputs */
  robot_diff_M->Sizes.numBlockPrms = (85);/* Sum of parameter "widths" */
}

void MdlInitializeSampleTimes(void)
{
}

void MdlInitialize(void)
{
  /* InitializeConditions for MATLAB Function: '<Root>/Get_target' */
  robot_diff_DWork.sfEvent_a = CALL_EVENT;
  robot_diff_DWork.is_active_c5_robot_diff = 0U;

  /* InitializeConditions for MATLAB Function: '<Root>/Control' */
  robot_diff_DWork.sfEvent_n = CALL_EVENT;
  robot_diff_DWork.is_active_c2_robot_diff = 0U;

  /* InitializeConditions for MATLAB Function: '<Root>/Modelo inverso' */
  robot_diff_DWork.sfEvent_p = CALL_EVENT;
  robot_diff_DWork.is_active_c3_robot_diff = 0U;

  /* InitializeConditions for MATLAB Function: '<Root>/Modelo directo' */
  robot_diff_DWork.sfEvent_g = CALL_EVENT;
  robot_diff_DWork.is_active_c1_robot_diff = 0U;

  /* InitializeConditions for MATLAB Function: '<Root>/Modelo inverso1' */
  robot_diff_DWork.sfEvent = CALL_EVENT;
  robot_diff_DWork.is_active_c4_robot_diff = 0U;
}

void MdlStart(void)
{
  /* Start for S-Function (hil_initialize_block): '<Root>/HIL Initialize' */

  /* S-Function Block: robot_diff/HIL Initialize (hil_initialize_block) */
  {
    t_int result;
    result = hil_open("qbot", "0", &robot_diff_DWork.HILInitialize_Card);
    if (result < 0) {
      msg_get_error_messageA(NULL, result, _rt_error_message, sizeof
        (_rt_error_message));
      rtmSetErrorStatus(robot_diff_M, _rt_error_message);
      return;
    }

    result = hil_watchdog_clear(robot_diff_DWork.HILInitialize_Card);
    if (result < 0 && result != -QERR_HIL_WATCHDOG_CLEAR) {
      msg_get_error_messageA(NULL, result, _rt_error_message, sizeof
        (_rt_error_message));
      rtmSetErrorStatus(robot_diff_M, _rt_error_message);
      return;
    }
  }

  /* Start for S-Function (roomba_initialize_block): '<Root>/Roomba Initialize' */

  /* S-Function Block: robot_diff/Roomba Initialize (roomba_initialize_block) */
  {
    t_error result;
    robot_diff_DWork.RoombaInitialize_Roomba = NULL;
    result = roomba_initialize(
      "serial://localhost:1?baud=57600,word=8,parity=none,stop=1", false,
      robot_diff_P.RoombaInitialize_SendBufferSize,
      robot_diff_P.RoombaInitialize_ReceiveBufferS,
      &robot_diff_DWork.RoombaInitialize_Roomba);
    if (result < 0) {
      msg_get_error_messageA(NULL, result, _rt_error_message, sizeof
        (_rt_error_message));
      rtmSetErrorStatus(robot_diff_M, _rt_error_message);
      return;
    }
  }

  /* Start for TransportDelay: '<Root>/Transport Delay2' */
  {
    real_T *pBuffer = &robot_diff_DWork.TransportDelay2_RWORK.TUbufferArea[0];
    robot_diff_DWork.TransportDelay2_IWORK.Tail = 0;
    robot_diff_DWork.TransportDelay2_IWORK.Head = 0;
    robot_diff_DWork.TransportDelay2_IWORK.Last = 0;
    robot_diff_DWork.TransportDelay2_IWORK.CircularBufSize = 1024;
    pBuffer[0] = robot_diff_P.TransportDelay2_InitOutput;
    pBuffer[1024] = robot_diff_M->Timing.t[0];
    robot_diff_DWork.TransportDelay2_PWORK.TUbufferPtrs[0] = (void *) &pBuffer[0];
    robot_diff_DWork.TransportDelay2_PWORK.TUbufferPtrs[1] = (void *) &pBuffer
      [1024];
  }

  /* Start for TransportDelay: '<Root>/Transport Delay1' */
  {
    real_T *pBuffer = &robot_diff_DWork.TransportDelay1_RWORK.TUbufferArea[0];
    robot_diff_DWork.TransportDelay1_IWORK.Tail = 0;
    robot_diff_DWork.TransportDelay1_IWORK.Head = 0;
    robot_diff_DWork.TransportDelay1_IWORK.Last = 0;
    robot_diff_DWork.TransportDelay1_IWORK.CircularBufSize = 1024;
    pBuffer[0] = robot_diff_P.TransportDelay1_InitOutput;
    pBuffer[1024] = robot_diff_M->Timing.t[0];
    robot_diff_DWork.TransportDelay1_PWORK.TUbufferPtrs[0] = (void *) &pBuffer[0];
    robot_diff_DWork.TransportDelay1_PWORK.TUbufferPtrs[1] = (void *) &pBuffer
      [1024];
  }

  /* Start for TransportDelay: '<Root>/Transport Delay' */
  {
    real_T *pBuffer = &robot_diff_DWork.TransportDelay_RWORK.TUbufferArea[0];
    robot_diff_DWork.TransportDelay_IWORK.Tail = 0;
    robot_diff_DWork.TransportDelay_IWORK.Head = 0;
    robot_diff_DWork.TransportDelay_IWORK.Last = 0;
    robot_diff_DWork.TransportDelay_IWORK.CircularBufSize = 1024;
    pBuffer[0] = robot_diff_P.TransportDelay_InitOutput;
    pBuffer[1024] = robot_diff_M->Timing.t[0];
    robot_diff_DWork.TransportDelay_PWORK.TUbufferPtrs[0] = (void *) &pBuffer[0];
    robot_diff_DWork.TransportDelay_PWORK.TUbufferPtrs[1] = (void *) &pBuffer
      [1024];
  }

  /* Start for DataStoreMemory: '<Root>/Data Store Memory' */
  robot_diff_DWork.A = robot_diff_P.DataStoreMemory_InitialValue;
  MdlInitialize();
}

void MdlTerminate(void)
{
  robot_diff_terminate();
}

RT_MODEL_robot_diff *robot_diff(void)
{
  robot_diff_initialize(1);
  return robot_diff_M;
}

/*========================================================================*
 * End of GRT compatible call interface                                   *
 *========================================================================*/
